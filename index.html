<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YIAGNIGNI NGAPNA AHMED // Portfolio IA</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400&family=Poppins:wght@700,900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body class="loading home-page">

    <!-- NOUVEAU : Le conteneur des particules est maintenant à la racine pour être toujours en arrière-plan -->
    <div id="particles-js"></div>

    <div class="preloader-elements">
        <div class="preloader-header"><h1 class="preloader-title-3d">Bienvenue sur mon Portfolio</h1></div>
        <div class="preloader-footer">
            <!-- MODIFIÉ : Nouvelle structure pour mettre le pourcentage à l'intérieur -->
            <div class="progress-container">
                <svg class="progress-ring" width="150" height="150">
                    <circle class="progress-ring__bg" r="65" cx="75" cy="75"/>
                    <circle id="progress-circle" class="progress-ring__circle" r="65" cx="75" cy="75"/>
                </svg>
                <div class="preloader-percentage">0%</div>
            </div>
        </div>
    </div>

    <!-- Le reste du contenu de la page reste dans le content-wrapper -->
    <div class="content-wrapper">
        <main class="content-container">
            
            <div class="photo-frame">
                <img src="images/ma-photo.png" alt="Photo de Ahmed Yiagnigni">
            </div>

            <div class="hero-grid">
                <div class="hero-static-text">
                    <span>Je</span>
                    <span>suis</span>
                </div>
                <div class="hero-typed-text">
                    <span id="typed-text"></span>
                </div>
            </div>

            <p class="hero-description">
                Un architecte en Intelligence Artificielle passionné par la transformation de données complexes en solutions innovantes et stratégiques.
            </p>

            <a href="apropos.html" class="aurora-button">DÉCOUVRIR MON UNIVERS</a>

        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const body = document.body;
            const percentageElement = document.querySelector('.preloader-percentage');
            const progressCircle = document.getElementById('progress-circle');
            const radius = progressCircle.r.baseVal.value;
            const circumference = 2 * Math.PI * radius;
            progressCircle.style.strokeDasharray = `${circumference} ${circumference}`;
            progressCircle.style.strokeDashoffset = circumference;

            // Initialisation des particules dès le début
            initializeParticles();

            let percent = 0;
            const interval = setInterval(() => {
                if (percent < 100) {
                    percent++;
                    percentageElement.textContent = percent + '%';
                    const offset = circumference - percent / 100 * circumference;
                    progressCircle.style.strokeDashoffset = offset;
                } else {
                    clearInterval(interval);
                    setTimeout(() => {
                        document.querySelector('.preloader-elements').style.opacity = '0';
                        setTimeout(() => {
                           body.classList.remove('loading');
                           document.querySelector('.preloader-elements').style.display = 'none'; // Cache complètement le preloader
                           initializeMainContent();
                        }, 500);
                    }, 300);
                }
            }, 45);

            function initializeParticles() {
                particlesJS('particles-js', { particles: { number: { value: 80, density: { enable: true, value_area: 800 } }, color: { value: '#64FFDA' }, shape: { type: 'circle' }, opacity: { value: 0.4, random: true }, size: { value: 2, random: true }, line_linked: { enable: true, distance: 150, color: '#64FFDA', opacity: 0.2, width: 1 }, move: { enable: true, speed: 1, direction: 'none', random: true, straight: false, out_mode: 'out', bounce: false } }, interactivity: { detect_on: 'canvas', events: { onhover: { enable: true, mode: 'repulse' }, onclick: { enable: true, mode: 'push' }, resize: true }, modes: { repulse: { distance: 100, duration: 0.4 }, push: { particles_nb: 4 } } }, retina_detect: true });
            }

            function initializeMainContent() {
                // Les particules sont déjà initialisées, il ne reste que le texte
                new Typed('#typed-text', { 
                    strings: ["un Spécialiste IA.", "un Créateur de Modèles.", "un Visionnaire Data."], 
                    typeSpeed: 60, 
                    backSpeed: 30, 
                    loop: true, 
                    smartBackspace: true, 
                    startDelay: 500 
                });
            }
        });
    </script>
</body>
</html>